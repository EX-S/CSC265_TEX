\documentclass[10pt]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{fullpage}
\usepackage{comment}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{enumitem}
\usepackage{scrextend}

\newcommand{\iimplies}{\mbox{ IMPLIES }}
\newcommand{\oor}{\mbox{ OR }}
\newcommand{\aand}{\mbox{ AND }}
\newcommand{\nnot}{\mbox{ NOT }}
\newcommand{\iiff}{\mbox{ IFF }}
\newcommand{\xxor}{\mbox{ XOR }}
%\newcommand{\algorithmicbreak}{\textbf{break}}
%\newcommand{\Break}{\State \algorithmicbreak}

\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}[theorem]{Lemma}

\begin{document}

\begin{center}
{\bf \Large \bf CSC265H Assignment 6}
\end{center}

\noindent
Yibin Zhao\\
1002996261\\
NO OUTSIDE DISCUSSION\\
NO EXTRA MATERIAL CONSULTED\\

\begin{comment}
The median of a set of numbers is the element with rank $\lfloor (n+1)/2 \rfloor$.
\end{comment}

\begin{enumerate}
	
	\begin{comment}
	Prove that any decesion tree using 2-way comparisons that finds the median of $n$ distinct numbers 
	also determines the set of numbers greater than the median and the set of numbers smaller than the median.
	\end{comment}

	\item
	Since all elements are distinct, 2-way = comparison returns T iff the indices agree, and there is no point of camparing an element with itself in this problem. 
	Thus we can assume that there is no 2-way = comparison in this decision tree.

	\begin{lemma}
	For any input of size $n$, any number is compared by some other number by at least once in its path
	of a decision tree that solve this problem.
	\end{lemma}

	\begin{proof}
	Consider an array $A$ of size $n$. 
	Suppose there exists such an element $A[j]$ not being compared by any other elements.
	Let $A[k]$ be the number with rank $\lfloor (n+1)/2 \rfloor$.
	Then, the decision tree gives an output of $A[k]$ for this input $A$. 

	Let $B[i] = A[i]$ for all $i \neq j$. \\
	If $A[j] > A[k]$, then set $B[j] = A[k]-1$. 
	Otherwise, set $B[j] = A[k]+1$. \\
	This guarantee that the median of $B$ is not $B[k]$.
	
	Consider any comparison in the path of the decision tree for input $A$.
	Denote the two numbers being compared as $A[p]$ and $A[q]$, where $p \neq q$. \\
	By the assumption, neither $p, q$ could be $j$. 
 	Then the same comparison between $B[p]$ and $B[q]$ should have the same result. \\
	Thus, the output is consistent for $A$ and $B$.
	
	However, the output for $B$ is not correct. 
	This is a contradiction.
	
	Therefore, the lemma is true.
	\end{proof}


	

	\begin{comment}
	Prove and $\Omega(n)$ lower bound on the worst case complexity of finding the median of $n$ numbers 
	using the decision tree with 2-way comparisons.
	\end{comment}

	\item By 1, we can make the output of the decision tree be the index of the median and the set of indecies of elements greater than the median and the set of indecies for smaller ones. \\
	Then, the total number of possible output for an array of size $n$ is
	\begin{align*}
		& n \cdot 
		\begin{pmatrix}
			n-1 \\
			\lfloor (n+1)/2 \rfloor - 1
		\end{pmatrix} \\
		=& \frac{n^{(\lfloor (n+1)/2 \rfloor)}}{\lfloor (n-1)/2 \rfloor!} \\
		\geq& \frac{n^{(\lfloor n/2 \rfloor)}}{\lfloor n/2 \rfloor!} \\
		=& \prod_{i=1}^{\lfloor n/2 \rfloor}\frac{n-i+1}{\lfloor n/2 \rfloor -i+1} \\
		\geq& 2^{\lfloor n/2 \rfloor}
	\end{align*}
	Since the information theory lower bound $\log_2(2^{\lfloor n/2 \rfloor}) = \left\lfloor \frac{n}{2} \right\rfloor \in \Omega(n)$, 
	$\Omega(n)$ is the lower bound of the worst case complexity.

\end{enumerate}

\end{document}
